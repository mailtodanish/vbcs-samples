<!--
 Copyright (c)2020, 2022, Oracle and/or its affiliates.
 Licensed under The Universal Permissive License (UPL), Version 1.0
 as shown at https://oss.oracle.com/licenses/upl/
 -->
<div id="pageWrapper" class="oj-offcanvas-outer-wrapper oj-offcanvas-page">
  <!-- navigation drawer for off canvas -->
  <div id="pageContent"  class="oj-web-applayout-page">
    <header role="banner" class="oj-web-applayout-header">
      <div class="oj-flex-bar oj-sm-align-items-center">
        <div class="oj-flex-bar-start oj-sm-align-items-center">
          <oj-button id="toggleNavListButton" class="toggleNavListButton oj-button-lg" display="icons"
            chroming="borderless" on-oj-action="[[$listeners.toggleNavListButtonOjAction]]">
            <span slot="startIcon" class="oj-ux-ico-menu"></span>
            <span>Cookbook Navigation</span>
          </oj-button>
          <a class="oj-ux-ico-oracle-o oj-ux-icon-size-6x oj-flex-item oj-link-standalone
    oj-link-subtle-primary oj-sm-only-hide" on-click="[[$listeners.aClick2]]"></a>
          <span
            class="oj-flex-item oj-typography-body-md oj-typography-bold oj-sm-padding-2x-start oj-sm-only-hide">Visual Builder Cookbook</span>
        </div>

        <div class="oj-flex-bar-end">
          <oj-toolbar id="toolbar1" class="oj-sm-flex-wrap-nowrap">
              <oj-combobox-one options="[[$page.functions.createOptionsProvider($application.functions.getMetadata())]]"
                options-keys.label="groupName" options-keys.children="items" options-keys.child-keys.label="recipeName"
                options-keys.child-keys.value="recipeId"
                option-renderer="[[$page.functions.createSearchResultsRenderer()]]"
                placeholder="[[ $application.responsive.smOnly ? 'Search in recipes' : 'Search in VB Cookbook recipes' ]]"
                :style.min-width="[[ $application.responsive.smOnly ? '250px' : '300px' ]]" id="recipeSearchCombo"
                aria-label="Search for a Recipe" on-value-changed="[[$listeners.recipeSearchComboValue]]"
                on-keyup="[[$listeners.recipeSearchComboKeyup]]" on-blur="[[$listeners.recipeSearchComboBlur]]">
                <span slot="end" class="oj-ux-ico-search vb-icon-24"></span>
              </oj-combobox-one>
              <oj-menu-button id="docs-link" chroming="borderless" class="oj-button-sm">Help
                <oj-menu style="display:none;" slot="menu" on-oj-action="[[$listeners.ojMenuOjAction]]">
                  <oj-option value="vbhelp" id="vbhelp">Visual Builder Documentation</oj-option>
                  <oj-option value="vbshelp" id="vbshelp">Visual Builder Studio Documentation</oj-option>
                  <oj-option value="oracleuni" id="oracleuni">Visual Builder Online Training</oj-option>
                  <oj-option value="customerconnect" id="customerconnect">Visual Builder Customer Connect Forum</oj-option>
                  <oj-option value="blog" id="customerconnect">Visual Builder Blog</oj-option>
                </oj-menu>
              </oj-menu-button>
          </oj-toolbar>
        </div>
      </div>
    </header>

    <!-- for message notifications -->
    <oj-messages id="vbDefaultNotifier" position="{}" display="general" messages="{{$page.variables.messagesADP}}"
      on-oj-close="[[$listeners.onMessageClose]]" display-options.category="none"></oj-messages>

    <div class="oj-web-applayout-content-nopad oj-flex oj-sm-flex-wrap-nowrap">
      <oj-drawer-layout start-opened="{{ $page.variables.openDrawer }}" class="oj-flex-item">
        <div slot="start" class="oj-contrast-marker oj-contrast-background" style="min-width:300px; height:100%">
          <oj-navigation-list id="navItem" drill-mode="sliding" class="main-navigation oj-navigationlist-nofollow-link"
            data="{{ $page.functions.getNavigationContent($application.functions.getMetadata()) }}"
            item.selectable="[[ $page.functions.itemSelectable ]]" root-label="Cookbook"
            selection="{{ $page.variables.selectedNavItem }}" expanded="{{ $page.functions.getNavigationListKeySet() }}"
            on-selection-changed="[[$listeners.navItemSelection]]">
            <template slot="itemTemplate" data-oj-as="item">
              <li>
                <a style="cursor: pointer">
                  <oj-bind-text value="[[item.data.attr.name]]">
                  </oj-bind-text>
                </a>
              </li>
            </template>
          </oj-navigation-list>
        </div>

        <!-- Where Visual Pages will be rendered -->
        <div class="oj-flex-item oj-flex oj-sm-flex-direction-column" style="overflow-x: auto;">
          <oj-bind-if test="[[ !$application.variables.isThisVBDesigner ]]">
            <div class="oj-flex categorybanner fltr_banner oj-sm-padding-1x-start">
              
              
            </div>
          </oj-bind-if>
          <oj-bind-if test="[[ !$application.variables.isThisVBDesigner ]]">
            <div
              class="oj-flex-bar oj-sm-align-items-center oj-sm-margin-3x-vertical oj-sm-padding-1x-start oj-sm-padding-1x-end">
              <div class="oj-flex-bar-start oj-flex">
                <oj-bind-for-each data="[[ $page.variables.breadCrumb ]]">
                  <template>
                    <oj-bind-if test="[[$current.index > 0]]">
                      <div class="oj-flex-item oj-sm-flex-initial oj-sm-flex-wrap-nowrap">
                        <span style="color: darkgrey">
                        <oj-bind-text value="[[ '>' ]]"></oj-bind-text>
                      </span>
                      </div>
                    </oj-bind-if>

                    <oj-bind-if test="[[$current.index < $page.variables.breadCrumb.length-1]]">
                      <oj-bind-if test="[[ $page.variables.openDrawer || $current.index === 0]]">
                        <div class="oj-flex-item oj-sm-flex-initial oj-sm-flex-wrap-nowrap">
                          <a :class="[[ $current.index > 0 ? 'oj-link-standalone oj-link-subtle-primary oj-sm-margin-2x-horizontal':'oj-link-standalone oj-link-subtle-primary oj-sm-margin-2x-end' ]]"
                            on-click="[[$listeners.aClick]]">
                            <span>
                            <oj-bind-text value="[[ $current.data.label]]">
                            </oj-bind-text>
                          </span>
                          </a>
                        </div>
                      </oj-bind-if>
                      <oj-bind-if test="[[ !($page.variables.openDrawer || $current.index === 0)]]">
                        <div class="oj-flex-item oj-sm-flex-wrap-nowrap">
                          <span :class="[[ $current.index > 0 ? 'oj-link-standalone oj-link-subtle-primary oj-sm-margin-2x-horizontal':'oj-link-standalone oj-link-subtle-primary oj-sm-margin-2x-end' ]]">
                          <oj-bind-text value="[[ $current.data.label]]">
                          </oj-bind-text>
                        </span>
                        </div>
                      </oj-bind-if>
                    </oj-bind-if>

                    <oj-bind-if test="[[$current.index === $page.variables.breadCrumb.length-1]]">
                      <span class="oj-link-standalone oj-link-subtle-primaryn oj-sm-margin-2x-start">
                        <oj-bind-text value="[[ $current.data.label]]">
                        </oj-bind-text>
                      </span>
                    </oj-bind-if>
                  </template>
                </oj-bind-for-each>
              </div>
              <div class="oj-flex-bar-end">
                <oj-bind-if test="[[ $application.currentPage.id != 'home-start' ]]">
                  <div class="oj-sm-margin-4x-start">
                    <oj-bind-if test="[[ $page.variables.apiDocs.length === 1 ]]">
                      <oj-button on-oj-action="[[$listeners.ojButtonOjAction5]]">API Doc
                      </oj-button>
                    </oj-bind-if>
                    <oj-bind-if test="[[ $page.variables.apiDocs.length > 1 ]]">
                      <oj-menu-button>
                        API Doc
                        <oj-menu slot="menu" style="display:none" on-oj-action="[[$listeners.ojButtonOjAction6]]">
                          <oj-bind-for-each data="[[$page.variables.apiDocs]]">
                            <template>
                              <oj-option :id="[[$current.data.url]]" value="[[$current.data.url]]">
                                <span>
                                  <oj-bind-text value="[[$current.data.label]]">
                                  </oj-bind-text>
                                </span>
                              </oj-option>
                            </template>
                          </oj-bind-for-each>
                        </oj-menu>
                      </oj-menu-button>
                    </oj-bind-if>
                    
                  </div>
                </oj-bind-if>
              </div>
            </div>
          </oj-bind-if>
          <p style="text-align: end; font-style: italic; margin-right: 12px;">Downloaded from <a href="https://vbcookbook.oracle.com" target="_blank">vbcookbook.oracle.com</a></p><oj-vb-content id="vbRouterContent" class="vbcs-pages-module recipe-area oj-flex-item"
            style="overflow-x: auto; width: 100%" config="[[vbRouterFlow]]"></oj-vb-content>
        </div>
      </oj-drawer-layout>

      
    </div>

    <footer id="cookbook-page-footer" role="contentinfo" class="oj-web-applayout-footer oj-sm-padding-2x-horizontal">
      <div class="oj-flex oj-sm-align-items-center oj-sm-justify-content-space-between">
        <div class="oj-flex-item">
          <ul>
            <oj-bind-for-each data="[[ $page.variables.globalLinks ]]">
              <template data-oj-as="item">
                <li>
                  <a :class="[[ 'oj-sm-margin-2x oj-link-standalone oj-link-subtle-primary ' + ( $application.responsive.lgUp  ? 'oj-typography-body-md oj-typography-bold' : 'oj-typography-body-sm oj-typography-bold')]]"
                    :id="[[item.data.id]]" :href="[[item.data.url]]">
                    <oj-bind-text value="[[item.data.label]]"> </oj-bind-text>
                  </a>
                </li>
              </template>
            </oj-bind-for-each>
          </ul>
          <div class="oj-typography-body-sm oj-sm-margin-2x-top">
            <oj-bind-text value="{{ $page.variables.copyright }}">
            </oj-bind-text>
          </div>
        </div>
      </div>
    </footer>
  </div>

  <div id="dialogWrapper">
    <oj-dialog style="display:none; width:450px;" id="howToOpenVBDialog" dialog-title="Open in Visual Builder"
      cancel-behavior="escape">
      <div slot="body">
        <ol>
          <li>In the Home page of Visual Builder, click <strong>New</strong>.</li>
          <li>In the Create Application dialog, enter a name for your application and click
            <strong>Change Template</strong> to open the Select Application Template dialog.
          </li>
          <li>Select <strong>Oracle Visual Builder Cookbook</strong> and click <strong>Select</strong>, then click
            <strong>Finish</strong>.
          </li>
          <oj-bind-if test="[[ $page.currentFlow !== 'home' ]]">
            <li>Open the <oj-bind-text value="{{ $page.currentFlow }}"></oj-bind-text> flow.</li>
          </oj-bind-if>
        </ol>
      </div>
      <div slot="footer">
        <oj-button id="cancelButton" on-oj-action="[[$listeners.cancelButtonOjAction]]">Close</oj-button>
      </div>
    </oj-dialog>
    
    
  </div>
</div>
